"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunktest_task_foodstore"] = self["webpackChunktest_task_foodstore"] || []).push([["src_widgets_ProductGrid_ui_ProductGrid_tsx"],{

/***/ "./src/widgets/ProductGrid/ui/ProductGrid.module.scss":
/*!************************************************************!*\
  !*** ./src/widgets/ProductGrid/ui/ProductGrid.module.scss ***!
  \************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"cart-open\": () => (/* binding */ _1),\n/* harmony export */   grid: () => (/* binding */ _2)\n/* harmony export */ });\n// extracted by mini-css-extract-plugin\nvar _1 = \"MS44gci2\";\nvar _2 = \"ZrGzSXVc\";\n\n\n    if(true) {\n      (function() {\n        var localsJsonString = \"{\\\"cart-open\\\":\\\"MS44gci2\\\",\\\"grid\\\":\\\"ZrGzSXVc\\\"}\";\n        // 1757245191299\n        var cssReload = __webpack_require__(/*! ../../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js */ \"./node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {});\n        // only invalidate when locals change\n        if (\n          module.hot.data &&\n          module.hot.data.value &&\n          module.hot.data.value !== localsJsonString\n        ) {\n          module.hot.invalidate();\n        } else {\n          module.hot.accept();\n        }\n        module.hot.dispose(function(data) {\n          data.value = localsJsonString;\n          cssReload();\n        });\n      })();\n    }\n  \n\n//# sourceURL=webpack://test-task-foodstore/./src/widgets/ProductGrid/ui/ProductGrid.module.scss?\n}");

/***/ }),

/***/ "./src/widgets/ProductGrid/ui/ProductGrid.tsx":
/*!****************************************************!*\
  !*** ./src/widgets/ProductGrid/ui/ProductGrid.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProductGrid: () => (/* binding */ ProductGrid)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _shared_lib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/shared/lib */ \"./src/shared/lib/index.ts\");\n/* harmony import */ var _ProductGrid_module_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ProductGrid.module.scss */ \"./src/widgets/ProductGrid/ui/ProductGrid.module.scss\");\n/* harmony import */ var _app_store_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/app/store/hooks */ \"./src/app/store/hooks.ts\");\n/* harmony import */ var _entities_cart__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/entities/cart */ \"./src/entities/cart/index.ts\");\n/* harmony import */ var _shared_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/shared/ui */ \"./src/shared/ui/index.ts\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n\n// src/widgets/product-grid/ui/ProductGrid.tsx\n\n\n\n\n\n\n\nvar ProductGrid = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(function (_ref) {\n  var isCartOpen = _ref.isCartOpen;\n  var dispatch = (0,_app_store_hooks__WEBPACK_IMPORTED_MODULE_4__.useAppDispatch)();\n  var _useAppSelector = (0,_app_store_hooks__WEBPACK_IMPORTED_MODULE_4__.useAppSelector)(function (state) {\n      return state.product;\n    }),\n    products = _useAppSelector.products,\n    filteredProducts = _useAppSelector.filteredProducts,\n    searchQuery = _useAppSelector.searchQuery,\n    isLoading = _useAppSelector.isLoading;\n  var _useAppSelector2 = (0,_app_store_hooks__WEBPACK_IMPORTED_MODULE_4__.useAppSelector)(function (state) {\n      return state.category;\n    }),\n    activeCategory = _useAppSelector2.activeCategory;\n  var productsToShow = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    if (searchQuery && filteredProducts.length > 0) {\n      return filteredProducts;\n    }\n    if (searchQuery && filteredProducts.length === 0) {\n      return [];\n    }\n    if (activeCategory === 'all') {\n      return products;\n    }\n    return products.filter(function (product) {\n      return product.category === activeCategory;\n    });\n  }, [products, filteredProducts, searchQuery, activeCategory]);\n  var handleAddToCart = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (productId) {\n    var product = products.find(function (p) {\n      return p.id === productId;\n    });\n    if (product) {\n      dispatch(_entities_cart__WEBPACK_IMPORTED_MODULE_5__.cartActions.addItem({\n        id: product.id,\n        name: product.name,\n        price: product.price,\n        quantity: 1\n      }));\n    }\n  }, [dispatch, products]);\n  var mods = (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, _ProductGrid_module_scss__WEBPACK_IMPORTED_MODULE_3__[\"cart-open\"], isCartOpen);\n  var skeletonItems = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return Array.from({\n      length: 8\n    }, function (_, index) {\n      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_shared_ui__WEBPACK_IMPORTED_MODULE_6__.ProductCardSkeleton, {}, \"skeleton-\".concat(index));\n    });\n  }, []);\n  if (isLoading) {\n    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(\"div\", {\n      className: (0,_shared_lib__WEBPACK_IMPORTED_MODULE_2__.classNames)(_ProductGrid_module_scss__WEBPACK_IMPORTED_MODULE_3__.grid, mods),\n      children: skeletonItems\n    });\n  }\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(\"div\", {\n    className: (0,_shared_lib__WEBPACK_IMPORTED_MODULE_2__.classNames)(_ProductGrid_module_scss__WEBPACK_IMPORTED_MODULE_3__.grid, mods),\n    children: productsToShow.map(function (product) {\n      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_shared_ui__WEBPACK_IMPORTED_MODULE_6__.ProductCard, {\n        product: product,\n        onAddToCart: handleAddToCart\n      }, product.id);\n    })\n  });\n});\nProductGrid.displayName = 'ProductGrid';\n\n//# sourceURL=webpack://test-task-foodstore/./src/widgets/ProductGrid/ui/ProductGrid.tsx?\n}");

/***/ })

}]);